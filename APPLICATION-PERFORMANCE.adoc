= Symptom: Application Performance Problems
:toc:


====
[cols="3*^",options="header"]
|===
|Cause
|Troubleshoot Focus Areas
|How to Troubleshoot

|*Cause 1: Failed Connections*
|
|

|Mutual TLS failures
| a) Client/Service Mesh certificates configurations (Service Mesh GateWay)
| - link:https://github.com/skoussou/openshift-service-mesh-application-troubleshooting/blob/main/TROUBLESHOOTING-ACTIONS.adoc#service-mesh-certificates[Check Service Mesh Certificates and Service Mesh Configs]

|
| b) Service Mesh ServiceEntry certificates configuration
| - link:https://github.com/skoussou/openshift-service-mesh-application-troubleshooting/blob/main/TROUBLESHOOTING-ACTIONS.adoc#service-mesh-certificates[Check Service Mesh Certificates and Service Mesh Configs]

|Authorisation failures
|
| - link:https://github.com/skoussou/openshift-service-mesh-application-troubleshooting/blob/main/TROUBLESHOOTING-ACTIONS.adoc#service-mesh-certificates[Check Service Mesh Security settings]

|Network issues
| a) Calling service is deployed in an OCP worker node or OCP cluster which does not have access to the node/cluster where the called service POD is deployed
| - link:[Check Node Calling/Called PODs Deployed and if CLUSTER n/w connectivity is available]

| 
| b) Calling service is not in service mesh but called service is in the Service Mesh continuously restarts]
|
- link:[Check PODs are in the same Service Mesh]

- link:[Check if service mesh configuration allows calls to external services]

|
| c) Calling service is part of a different Service Mesh than called service  
| - link:[Check PODs are in the same Service Mesh by comparing namespaces in the ServiceMeshMemberRoll]

|
| d) Service Mesh configuration of GateWay for that service does not exist or does not expose the service correctly (hostname etc.)
| - link:[Check Service Mesh Network Configurations allow access to services]

|
| e) OCP Route to service does not exist
| - link:[Check Service Mesh Network Configurations allow access to services]

|
| f) Service Mesh envoy have the correct/up-to-date configurations
| 
- link:[Check Service Mesh Operator State]

- link:[Troubleshoot Service Mesh Configuration]

|*Cause 2: Slow Responses*
|
|

|POD/Deployment resource configuration limits reached
| a) CPU/RAM/Network/Persistence POD Limits
| - link:[Check POD Containers Resources Usage]

|POD numbers < replicas defined in Deployment
| a) Deployment State
| - link:[POD Replicas Desired/Created]

|
| b) Resource Limits
| 
- link:[Check if ResourceQuota applied on namespace affecting deployment]

- link:[Check if LimitRange have been applied affecting deployment]

|Restarting PODs
| a) POD Restarts
| 
- link:[Check for constant/often restarts of the POD]

- link:[Check POD & Cluster Events]


|Application Configurations
| a) Application Logging level
| 
- link:[Check if Application Logging Levels are too high] (INFO normal, DEBUG/TRACE too high for all containers)
- link:[Check Logging Levels of Service Mesh Components ] (`istio-proxy` in case access logging set to ON and Level too high)

|
| b) Backed up requests towards failing/slow service
| 
- link:[Check Application Logs]

- link:[Validate Configurations/Errors with Service Mesh Observability]


|
| c) Retries towards failing/slow service
| 
- link:[Check Application Logs]

- link:[Validate Configurations/Errors with Service Mesh Observability]

|===
====
